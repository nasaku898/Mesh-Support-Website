(this["webpackJsonpmesh-support"]=this["webpackJsonpmesh-support"]||[]).push([[0],{237:function(e,t,n){e.exports=n(249)},242:function(e,t,n){},243:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),i=(n(242),n(243),n(43)),l=n(21),u=n(272),s=n(274),m=n(275),p=n(230),d=n(252),f=n(288),g=n(75),h=n.n(g),E=n(12),v=n(217),b=Object(v.a)((function(e){return{BoxStyle:Object(E.a)({padding:"16px",display:"inline-block",margin:"auto"},e.breakpoints.down("sm"),{margin:"4px",padding:"2px"}),navItems:{width:"100%"},button:{margin:e.spacing(1),width:"150px"},link:{"&:hover":{textDecoration:"none"}}}})),x=function(){var e=b();return r.a.createElement("div",null,r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(m.a,{component:i.b,to:"/",color:"inherit"},r.a.createElement(f.a,null)),r.a.createElement("div",{className:e.navItems},r.a.createElement(p.a,{className:e.BoxStyle},r.a.createElement(m.a,{component:i.b,to:"/test",color:"inherit"},"About")),r.a.createElement(p.a,{className:e.BoxStyle},r.a.createElement(m.a,{href:"https://github.com/nasaku898/Mesh-Support-Generator",color:"inherit"},"GitHub")),r.a.createElement(p.a,{className:e.BoxStyle},r.a.createElement(m.a,{component:i.b,to:"/fileConverter",color:"inherit"},"Convert File"))),r.a.createElement(m.a,{className:e.link,component:i.b,to:"/supportGeneration",color:"inherit"},r.a.createElement(d.a,{variant:"contained",color:"default",className:e.button,endIcon:r.a.createElement(h.a,null)},"Upload")))))},y=n(276),w=n(133),O=Object(v.a)((function(e){return{imageStyle:{width:"100%",height:"100%",backgroundPosition:" center center"},imageHolder:{background:"url(https://cdn.discordapp.com/attachments/484102130286854144/730130581437939801/3d-printer.jpg) no-repeat",backgroundPosition:"center center",backgroundSize:"cover",height:"768px"},description:{height:"768px",paddingLeft:"20%",paddingRight:"20%",paddingTop:"20%",paddingBottom:"20%"},title:Object(E.a)({margin:"50px 0px 50px 0px"},e.breakpoints.down("sm"),{fontSize:"2.5rem"}),subtitle:{margin:"20px 0px 20px 0px"},uploadBtn:{float:"left"}}})),C=function(){var e=O();return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,spacing:0},r.a.createElement(y.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(w.a,{className:e.imageHolder})),r.a.createElement(y.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(w.a,{className:e.description},r.a.createElement(p.a,{className:e.title,variant:"h3",align:"left"},"3D STL Model",r.a.createElement("br",null),"Grid Support"),r.a.createElement(p.a,{className:e.subtitle,variant:"h6",align:"left"},"Generate a grid support structure for your STL model"),r.a.createElement(m.a,{className:e.link,component:i.b,to:"/supportGeneration",color:"inherit"},r.a.createElement("br",null),r.a.createElement(d.a,{variant:"contained",color:"primary",className:e.uploadBtn,endIcon:r.a.createElement(h.a,null)},r.a.createElement(p.a,null,"Upload File")))))))},j=(0,n(26).makeStyles)((function(e){return{bottomNavigationStyle:{position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:e.palette.primary.main},credit:{padding:"15px"}}})),S=function(){var e=j();return r.a.createElement("div",{className:e.bottomNavigationStyle},r.a.createElement(p.a,{className:e.credit},"\xa9 DAMLab | All rights reserved."))},k=n(23),z=n(2),M=n(220),N=(0,n(26).makeStyles)((function(e){return{stlCanvas:{width:"100%",height:"500px",visibility:"hidden",border:"solid 3px ".concat(e.palette.primary.main),margin:"auto",marginTop:"50px"},stlCanvasWrapper:Object(E.a)({width:"50%",height:"100%",margin:"auto"},e.breakpoints.down("sm"),{width:"90%"}),Input:{display:"none"},uploadContainer:{border:"solid 3px ".concat(e.palette.primary.main),padding:"25px",marginTop:"25px","&:hover":{color:e.palette.primary.main}},menuItem:{border:"solid 1px ".concat(e.palette.primary.main),width:"100%",padding:"10px",margin:"auto",height:"100%"},errorMessage:{margin:"20px"},gridContainer:{height:"100%",paddingBottom:"100px"}}})),B=r.a.createContext(),I=function(e){var t=e.children,n=Object(a.useRef)(null),o=Object(a.useRef)(null),c=Object(a.useRef)(null),i=Object(a.useRef)(null),l=Object(a.useRef)(new z.O(0,0,100)),u=Object(a.useRef)({mainPlane:"mainPlane",gridFloor:"gridFloor",mainLight:"mainLight",stlModel:"stlModel",wireFrame:"wireFrame"});return r.a.createElement(B.Provider,{value:{scene:n,camera:o,renderer:c,defaultCameraPosition:l,sceneNames:u,orbitControls:i,listOfMesh:[]}},t)},P=n(218),F=n(284),L=function(){var e=Object(a.useContext)(B),t=e.camera,n=e.defaultCameraPosition,o=function(){t.current.position.set(n.current.x,n.current.y,n.current.z)},c=r.a.useState(null),i=Object(k.a)(c,2),l=i[0],u=i[1],s=function(){u(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"contained",color:"primary","aria-controls":"orientation-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},"Select Orientation"),r.a.createElement(P.a,{id:"orientation-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s},r.a.createElement(F.a,{onClick:function(){o(),t.current.position.x=Math.sin(-Math.PI/2)*n.current.z,t.current.position.z=Math.cos(-Math.PI/2)*n.current.z,s()}},"Left"),r.a.createElement(F.a,{onClick:function(){o(),t.current.position.x=Math.sin(Math.PI/2)*n.current.z,t.current.position.z=Math.cos(Math.PI/2)*n.current.z,s()}},"Right"),r.a.createElement(F.a,{onClick:function(){o(),t.current.position.y=n.current.z,t.current.position.z=0,s()}},"Top"),r.a.createElement(F.a,{onClick:function(){o(),s()}},"Front"),r.a.createElement(F.a,{onClick:function(){o(),t.current.position.x=Math.sin(-Math.PI/4)*n.current.z,t.current.position.z=Math.cos(-Math.PI/4)*n.current.z,t.current.position.y=n.current.z,s()}},"3D")))},R=n(285),T=(0,n(26).makeStyles)((function(){return{wireframe:{overflow:"hidden"}}})),A=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),n=t[0],o=t[1],c=T(),i=Object(a.useContext)(B),l=i.scene,u=i.sceneNames,s=i.listOfMesh;Object(a.useEffect)((function(){return function(){var e=l.current.getObjectByName(u.current.wireFrame);l.current.remove(e)}}),[l,u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:c.wireframe},"Wireframe"),r.a.createElement(R.a,{checked:n,onChange:function(){if(n){for(var e=0;e<s.length;e++){var t=s[e],a=t.getObjectByName("wireframe");t.remove(a)}o(!1)}else{!function(){for(var e=0;e<s.length;e++){var t=s[e],n=new z.Q(t.geometry),a=new z.z({color:16711935}),r=new z.q(n,a);r.name="wireframe",t.add(r),r.rotation.x=2*Math.PI}o(!0)}()}},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}))},D=(0,n(26).makeStyles)((function(e){return{removeBtn:{width:"100%"},progressBar:{marginTop:"10px"}}})),G=n(283),U=function(){var e=D(),t=Object(a.useState)(!1),n=Object(k.a)(t,2),o=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{onClick:function(){c(!0),setTimeout((function(){c(!1)}),1e4)},variant:"contained",color:"primary",className:e.removeBtn},"Generate Support"),o&&r.a.createElement(G.a,{color:"secondary",className:e.progressBar}))},W=n(282),H=n(287),J=n(286),q=function(e){var t=e.message;return r.a.createElement("div",null,r.a.createElement(H.a,{severity:"error"},r.a.createElement(J.a,null,"Error"),t))},Q=n(103),Z=(0,n(26).makeStyles)((function(e){return{Input:{display:"none"},uploadContainer:{border:"solid 3px ".concat(e.palette.primary.main),padding:"25px",marginTop:"25px","&:hover":{color:e.palette.primary.main}},errorMessage:{margin:"20px"}}})),$=function(e){var t=Object(a.useContext)(B),n=t.scene,o=t.camera,c=t.defaultCameraPosition,i=t.sceneNames,l=t.listOfMesh,u=Object(a.useState)(!0),s=Object(k.a)(u,2),m=s[0],f=s[1],g=Object(a.useState)(null),E=Object(k.a)(g,2),v=E[0],b=E[1],x=Object(a.useState)(null),y=Object(k.a)(x,2),O=y[0],C=y[1],j=Z();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();try{var a=t.target.file.files[0];if(void 0===a)throw new Error("No file found");if("STL"!==a.name.split(".").pop().toUpperCase())throw new Error("File type is not supported");var r=new Q.a,u=new FileReader;console.log(a),u.readAsDataURL(a),u.onload=function(t){r.load(t.target.result,(function(t){var a=new z.z({color:16711935}),r=new z.x(t,a);r.rotation.x=-Math.PI/2,r.scale.set(.5,.5,.5),r.receiveShadow=!0,r.castShadow=!0,r.geometry.computeBoundingBox(),r.geometry.center(),r.geometry.computeBoundingSphere(),o.current.position.z=r.geometry.boundingSphere.radius,c.current.set(c.current.x,c.current.y,o.current.position.z),r.position.y+=.5*-r.geometry.boundingBox.min.z,r.name=i.current.stlModel,r.originalPosition={x:r.position.x,y:r.position.y,z:r.position.z},r.originalRotation={x:r.rotation.x,y:r.rotation.y,z:r.rotation.z},l.push(r),n.current.add(r),o.current.position.x=Math.sin(-Math.PI/4)*c.current.z,o.current.position.z=Math.cos(-Math.PI/4)*c.current.z,o.current.position.y=c.current.z,document.getElementById("stlCanvas").style.visibility="visible",e.setModelLoaded(!0),f(!0)}))}}catch(s){b(s.message),f(!1)}}},r.a.createElement(W.a,{className:j.Input,type:"file",id:"file",name:"file",inputProps:{accept:".stl"},onChange:function(){C(document.getElementById("file").value.split(/(\\|\/)/g).pop())}}),r.a.createElement(w.a,{className:j.uploadContainer},r.a.createElement("label",{htmlFor:"file"},r.a.createElement(p.a,{variant:"h5"},O||"+ Select a STL file"))),r.a.createElement("br",null),r.a.createElement(d.a,{variant:"contained",color:"primary",className:j.uploadBtn,endIcon:r.a.createElement(h.a,null),type:"submit"},r.a.createElement(p.a,null,"Load File"))),!m&&r.a.createElement("div",{className:j.errorMessage},r.a.createElement(q,{message:v})))},K=n(253),V=n(278),X=n(221),Y=n(222),_=n.n(Y),ee=n(104),te=n.n(ee),ne=n(223),ae=n.n(ne),re=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),n=t[0],o=t[1],c=Object(a.useContext)(B),i=c.scene,l=c.camera,u=c.renderer,s=c.orbitControls,m=c.listOfMesh,f=Object(a.useRef)([]),g=Object(a.useState)(null),h=Object(k.a)(g,2),E=h[0],v=h[1],b=Boolean(E);Object(a.useEffect)((function(){return function(){x()}}),[]);var x=function(){for(var e=0;e<f.current.length;e++)i.current.remove(f.current[e]);o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null," Manipulation"),r.a.createElement(R.a,{checked:n,onChange:function(){if(n)x();else{for(var e=0;e<m.length;e++){var t=m[e],a=new X.a(l.current,u.current.domElement);a.addEventListener("dragging-changed",(function(e){s.current.enabled=!e.value})),a.attach(t),i.current.add(a),f.current.push(a)}o(!0)}},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),n&&r.a.createElement(K.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){v(e.currentTarget)}},r.a.createElement(_.a,null)),r.a.createElement(P.a,{id:"long-menu",anchorEl:E,keepMounted:!0,open:b,onClose:function(){v(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}}},r.a.createElement(F.a,{onClick:function(){for(var e=0;e<f.current.length;e++)f.current[e].setMode("translate")}},"Translate"),r.a.createElement(F.a,{onClick:function(){for(var e=0;e<f.current.length;e++)f.current[e].setMode("rotate")}},"Rotation"),r.a.createElement(F.a,{onClick:function(){for(var e=0;e<f.current.length;e++)f.current[e].setMode("scale")}},"Scale"),r.a.createElement(F.a,{onClick:function(){for(var e=0;e<m.length;e++){var t=m[e];t.position.set(t.originalPosition.x,t.originalPosition.y,t.originalPosition.z),t.rotation.set(t.originalRotation.x,t.originalRotation.y,t.originalRotation.z)}}},"Reset"),r.a.createElement(F.a,null,r.a.createElement(V.a,{size:"small","aria-label":"small outlined button group"},r.a.createElement(d.a,{onClick:function(){for(var e=0;e<f.current.length;e++){var t=f.current[e];t.setSize(t.size+.1)}}},r.a.createElement(te.a,null)),r.a.createElement(d.a,{onClick:function(){for(var e=0;e<f.current.length;e++){var t=f.current[e];t.setSize(Math.max(t.size-.1,.1))}}},r.a.createElement(ae.a,null))))))},oe=function(){var e=Object(a.useContext)(B),t=e.scene,n=e.camera,o=e.renderer,c=e.defaultCameraPosition,i=e.orbitControls,l=e.sceneNames,u=Object(a.useRef)(null),s=Object(a.useRef)(null),m=Object(a.useState)(!1),f=Object(k.a)(m,2),g=f[0],h=f[1],E=Object(a.useState)(!1),v=Object(k.a)(E,2),b=v[0],x=v[1],w=N();Object(a.useEffect)((function(){if(!g){var e=u.current.clientWidth,a=u.current.clientHeight,r=function(){var e=new z.x(new z.D(60,60),new z.z({color:10066329,specular:1052688}));e.name=l.current.mainPlane,e.rotation.x=-Math.PI/2,e.position.y=-.5,t.current.add(e)},m=function(){e=u.current.clientWidth,a=u.current.clientHeight,o.current.setSize(e,a),n.current.aspect=e/a,n.current.updateProjectionMatrix()};s.current=m;var p=function(){t.current.getObjectByName(l.current.mainLight).position.copy(n.current.position)},d=function(){o.current.render(t.current,n.current)};t.current=new z.I,n.current=new z.C(85,e/a,.1,1e3),o.current=new z.P({antialias:!0}),i.current=new M.a(n.current,o.current.domElement),o.current.setSize(e,a),o.current.shadowMap.enabled=!0,t.current.background=new z.d(7496795),n.current.lookAt(t.current.position),n.current.position.set(c.current.x,c.current.y,c.current.z),r(),u.current.appendChild(o.current.domElement),i.current.addEventListener("change",p),window.addEventListener("resize",m,!1),function(){var e=new z.f(16777215,1);e.position.set(1,1,1).normalize(),e.name=l.current.mainLight,t.current.add(e)}(),function(){var e=new z.m(60,60);e.name=l.current.gridFloor,t.current.add(e)}(),function e(){requestAnimationFrame(e),i.current.update(),i.current.enableZoom=!0,d()}(),h(!0)}}),[c,l,g,n,t,o,i]),Object(a.useEffect)((function(){return function(){window.removeEventListener("resize",s.current,!1)}}),[]);var O=function(){x(!1),document.getElementById("stlCanvas").style.visibility="hidden"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w.stlCanvasWrapper},!b&&r.a.createElement($,{setModelLoaded:x}),r.a.createElement("div",{className:w.stlCanvas,ref:u,id:"stlCanvas"}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,spacing:0,className:w.gridContainer},r.a.createElement(y.a,{item:!0,xs:12,md:3},r.a.createElement("div",{className:w.menuItem},r.a.createElement(L,null))),r.a.createElement(y.a,{item:!0,xs:12,md:3},r.a.createElement("div",{className:w.menuItem},r.a.createElement(re,null))),r.a.createElement(y.a,{item:!0,xs:12,md:2},r.a.createElement("div",{className:w.menuItem},r.a.createElement(A,null))),r.a.createElement(y.a,{item:!0,xs:12,md:2},r.a.createElement("div",{className:w.menuItem},r.a.createElement(d.a,{onClick:O},r.a.createElement(p.a,null,"Add Model"),r.a.createElement(te.a,null)))),r.a.createElement(y.a,{item:!0,xs:12,md:2},r.a.createElement("div",{className:w.menuItem},r.a.createElement(d.a,{onClick:function(){var e=t.current.getObjectByName(l.current.stlModel);t.current.remove(e),O()},variant:"contained",color:"primary",fullWidth:!0},"Remove Model"))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U,null))))))},ce=(r.a.createContext(),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,r.a.createElement(oe,null)))}),ie=n(224),le=n(225),ue=n(226),se=n(137),me=(0,n(26).makeStyles)((function(e){return{uploadContainer:{border:"solid 3px ".concat(e.palette.primary.main),padding:"25px",marginTop:"25px",marginBottom:"25px","&:hover":{color:e.palette.primary.main}},Input:{display:"none"},wrapper:Object(E.a)({width:"50%",margin:"auto"},e.breakpoints.down("xs"),{fontSize:"1.5rem",width:"80%"}),Typography:Object(E.a)({},e.breakpoints.down("xs"),{fontSize:"1.5rem",color:"red",width:"100%"})}})),pe=n(227),de=n.n(pe),fe=function(){var e=me(),t=Object(a.useState)(null),n=Object(k.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!0),l=Object(k.a)(i,2),u=l[0],s=l[1],m=Object(a.useState)(null),f=Object(k.a)(m,2),g=f[0],h=f[1];return r.a.createElement("div",{className:e.wrapper},r.a.createElement(y.a,{container:!0,spacing:0},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"h2"},"Convert STL ",r.a.createElement(de.a,{fontSize:"large"})," OBJ")),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{var t=e.target.file.files[0];if(void 0===t)throw new Error("No file found");if("STL"!==t.name.split(".").pop().toUpperCase()&&"OBJ"!==t.name.split(".").pop().toUpperCase())throw new Error("File type is not supported");var n=new Q.a,a=new ue.a,r=new FileReader;r.readAsDataURL(t),r.onload=function(e){"STL"===t.name.split(".").pop().toUpperCase()?n.load(e.target.result,(function(e){var t=new z.z({color:16711935});!function(e){var t=(new ie.a).parse(e),n=new Blob([t],{type:"text/plain"}),a=o.split(".").shift();Object(se.saveAs)(n,"".concat(a,".obj"))}(new z.x(e,t))})):a.load(e.target.result,(function(e){!function(e){var t=(new le.a).parse(e,{binary:!0}),n=new Blob([t],{type:"text/plain"}),a=o.split(".").shift();Object(se.saveAs)(n,"".concat(a,".stl"))}(e.children.pop())}))}}catch(c){h(c.message),s(!1)}}},r.a.createElement(W.a,{className:e.Input,type:"file",id:"file",inputProps:{accept:".stl,.obj"},onChange:function(){c(document.getElementById("file").value.split(/(\\|\/)/g).pop())}}),r.a.createElement(w.a,{className:e.uploadContainer},r.a.createElement("label",{htmlFor:"file"},r.a.createElement(p.a,{variant:"h5"},o||"Select files for conversion"))),r.a.createElement(d.a,{variant:"contained",color:"primary",type:"submit"},"Convert"),!u&&r.a.createElement(q,{message:g})))))};var ge=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(x,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:C}),r.a.createElement(l.a,{exact:!0,path:"/supportGeneration",component:ce}),r.a.createElement(l.a,{exact:!0,path:"/fileConverter",component:fe})),r.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=n(66),Ee=Object(he.a)({palette:{type:"dark"}}),ve=n(277),be=n(279),xe=n(229);c.a.render(r.a.createElement(i.a,null,r.a.createElement(ve.a,{theme:Ee},r.a.createElement(be.a,null,r.a.createElement(xe.a,{style:{minHeight:"100vh",background:"rgb(33,33,33)"}},r.a.createElement(ge,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[237,1,2]]]);
//# sourceMappingURL=main.05299151.chunk.js.map